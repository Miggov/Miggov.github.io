---
layout: post
title:  "2. Datan kerääminen ja jalostaminen"
date:   2019-3-12 00:00:00 +0200
categories: jekyll update
---
Toisella luentoviikolla käsiteltiin datan keräämistä ja jalostamista. Koodiklinikalla käsiteltiin datan keräämistä ryömimällä ja raapimalla käyttäen scrapy-kirjastoa.

Luennolla käsiteltiin ensiksi datatieteen prosessia. Prosessi rakentuu nimenomaan uuden tiedon löytämisen ympärille, eikä tarkoituksena ole ensisijaisesti tuottaa esimerkiksi suoraan tuotantokelpoista raportointiratkaisua. Itse analyysiprosessi on luonteeltaan iteratiivinen, dataa "hämmennetään* kunnes (liiketoimintarelevantteja) tuloksia saadaan aikaan. Kääntöpuolena tämä toimintatapa voi tuottaa myös virheellisiä tuloksia, mikäli esimerkiksi biaksia ei tunnisteta ja analyysia viedään huomaamatta siihen suuntaan, joka tuottaa haluttuja tuloksia.

Karkeasti analytiikka jakautuu kuvailevaan, ohjaavaan, diagnostiseen ja ennakoivaan analytiikkaan. Jako ei kuitenkaan ole mustavalkoinen, vaan esimerkiksi pohjimmiltaan kuvailevassa historialliseen dataan perustuvassa raportissa voi olla myös ennakoivia ominaisuuksia, kuten vaikkapa yksinkertaisessa tapauksessa trendin perusteella tehtävää tulevan ennakointia.

Viikon aiheena oli datan kerääminen ja jalostamminen. Olennaisena osana tähän liittyy siis jo mainittu työprosessi. Terkemmin dataa voidaan kerätä esimerkiksi "ryömijöillä/raapijoilla", joilla tarkoitetaan siis ohjelmia, jotka käyvät läpi web-sivustoja ja parsivat dataa html-koodista. Näillä voidaan kerätä hyvin monenlaista dataa verkkosivustoilta, kun saatavilla ei ole avointa rajapintaa. Tarkalleen ryömijällä tarkoitetaan osuutta, joka navigoi sivustoa eteenpäin annettujen ohjeiden mukaisesti ja raapijalla osuutta, joka kerää datan html-koodista. Esimerkiksi koodiklinikan viedon avulla toteuttamani asuntojen hintatietoja etuovi.comist keräävässä ohjelmassa ryömijä käytännössä vain painaa "seuraava" linkkiä sivun alalaidasta ja raapija kerää tietyt osat html-koodista .csv tiedostoon. Ryömijä lopettaa kun "seuraava" linkkiä ei enää löydy. Ryöminnän ja raavinnan kanssa on kuitenkin myös huomioitava se, että liikutaan laillisesti harmaalla alueella. Esimerkiksi sivustoehdoissa voi olla kielletty sivuston koneellinen käsittely, jolloin toiminta on periaatteessa laitonta. Tämä on huomioitava varsinkin kerättäessä esimerkiksi kilpailijadataa.

Datan hankinnan, tuli se sitten raapijasta, rajapinnasta tai vaikkapa erp-järjestelmästä, jälkeen olennaista on datan siivoaminen ja saattaminen muotoon, josta sitä voidaan analysoida ohjelmallisesti. Numeerinen data on pääosin tässä helppoa kunhan se on luotettavaa. Sensijaan esimerkkejä hankalammista tapauksissa on luonnollinen teksti, kuvat, videot ja äänitteet. Varsinkin tekstin koneelliseen tulkitsemiseen löytyykin jo melko paljon työkaluja. Oma kokemukseni näiden kanssa esimerkiksi twiittien sävyn analysoinnissa ollut vaihtelevaa ja esimerkiksi sarkasmin tunnistamisessa on vielä vaikeuksia. Tässä tapauksessa esimerkiksi textblob kirjasto päätyi pitämään sarkastista tweettiä voimakkaan positiivisena, vaikka varsinainen sävy oli negatiivinen.